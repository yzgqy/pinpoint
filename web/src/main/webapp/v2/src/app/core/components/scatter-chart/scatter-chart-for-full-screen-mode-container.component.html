<article class="l-chart-item">
    <pp-scatter-chart-setting-popup [hidden]="isHideSettingPopup()"
        [instanceKey]="instanceKey"
        [min]="fromY"
        [max]="toY"
        (outApply)="onApplySetting($event)"
        (outCancel)="onHideSetting()"
    ></pp-scatter-chart-setting-popup>
    <pp-scatter-chart-options
        [instanceKey]="instanceKey"
        [hiddenOptions]="{ setting: false, download: false, open: true, help: false }"
        (outShowSetting)="onShowSetting()"
        (outDownload)="onDownload()"
        (outShowHelp)="onShowHelp($event)"
    ></pp-scatter-chart-options>
    <pp-scatter-chart style="height: 330px"
        [instanceKey]="instanceKey"
        [addWindow]="addWindow"
        [mode]="scatterChartMode"
        [width]="width"
        [height]="height"
        [fromX]="fromX"
        [toX]="toX"
        [fromY]="fromY"
        [toY]="toY"
        [application]="application"
        [agent]="selectedAgent"
        [typeInfo]="typeInfo"
        [timezone]="timezone$ | async"
        [dateFormat]="dateFormat"
        [i18nText]="i18nText"
        (outTransactionCount)="onChangeTransactionCount($event)"
        (outSelectArea)="onSelectArea($event)"
        (outChangeRangeX)="onChangeRangeX($event)"
    ></pp-scatter-chart>
    <pp-scatter-chart-state-view
        [instanceKey]="instanceKey"
        [typeInfo]="typeInfo"
        [typeCount]="typeCount"
        (outChanged)="onChangedSelectType($event)"
    ></pp-scatter-chart-state-view>
    <div #layerBackground class="l-layer-background" [style.width.px]="width" [style.height.px]="height + 80"></div>
</article>